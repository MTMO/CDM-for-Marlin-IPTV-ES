<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>MarlinCDM Interface(IPTV-ES): MarlinCdmInterface.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="new_stylesheet.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">MarlinCDM Interface(IPTV-ES)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('_marlin_cdm_interface_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">MarlinCdmInterface.h</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * Copyright (C) 2014 Marlin Trust Management Organization</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> * you may not use this file except in compliance with the License.</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * You may obtain a copy of the License at</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * http://www.apache.org/licenses/LICENSE-2.0</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * Unless required by applicable law or agreed to in writing, software</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> * See the License for the specific language governing permissions and</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * limitations under the License.</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#ifndef MARLIN_CDM_INTERFACE_H_</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#define MARLIN_CDM_INTERFACE_H_</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;MarlinError.h&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;MarlinCommonTypes.h&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;CMutex.h&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="namespacemarlincdm.html">   52</a></span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacemarlincdm.html">marlincdm</a> {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacestd.html">std</a>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno"><a class="line" href="classmarlincdm_1_1_marlin_cdm_interface.html">   61</a></span>&#160;<span class="keyword">class </span><a class="code" href="classmarlincdm_1_1_marlin_cdm_interface.html">MarlinCdmInterface</a> {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    mcdm_status_t CheckKeyExist(<span class="keyword">const</span> <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>&amp; init_data, <span class="keywordtype">bool</span>* is_key_exist);</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    mcdm_status_t OpenSession(<a class="code" href="namespacemarlincdm.html#a3a099378c3cb97be4ba95d6ceb34e0e4">mcdm_session_id_t</a>&amp; session_id);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    mcdm_status_t CloseSession(<span class="keyword">const</span> <a class="code" href="namespacemarlincdm.html#a3a099378c3cb97be4ba95d6ceb34e0e4">mcdm_session_id_t</a>&amp; session_id);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    mcdm_status_t GenerateKeyRequest(<span class="keyword">const</span> <a class="code" href="namespacemarlincdm.html#a3a099378c3cb97be4ba95d6ceb34e0e4">mcdm_session_id_t</a>&amp; session_id,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                     <span class="keyword">const</span> <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>&amp; init_data,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                     <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>* request);</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    mcdm_status_t AddKey(<span class="keyword">const</span> <a class="code" href="namespacemarlincdm.html#a3a099378c3cb97be4ba95d6ceb34e0e4">mcdm_session_id_t</a>&amp; session_id,</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                         <span class="keyword">const</span> <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>&amp; key,</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                         <span class="keyword">const</span> <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>&amp; init_data,</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                         <span class="keywordtype">bool</span>* endflag,</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                         <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>* request);</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    mcdm_status_t CancelKeyRequest(<span class="keyword">const</span> <a class="code" href="namespacemarlincdm.html#a3a099378c3cb97be4ba95d6ceb34e0e4">mcdm_session_id_t</a>&amp; session_id);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    <span class="comment">// Accept encrypted buffer and return decrypted data.</span></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    mcdm_status_t Decrypt(<span class="keyword">const</span> <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>&amp; init_data,</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                          <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>* src_ptr,</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                          <a class="code" href="structmarlincdm_1_1mcdm__buffer__t.html">mcdm_buffer_t</a>* dst_ptr);</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    mcdm_status_t GetKeyReleases(<a class="code" href="structmarlincdm_1_1mcdm__key__release__t.html">mcdm_key_release_t</a>** key_release, uint32_t* key_release_num);</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    mcdm_status_t AddKeyReleaseCommit(<span class="keyword">const</span> <a class="code" href="structmarlincdm_1_1mcdm__key__release__t.html">mcdm_key_release_t</a>&amp; key_release);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    mcdm_status_t FreeKeyReleasesBuffer(<a class="code" href="structmarlincdm_1_1mcdm__key__release__t.html">mcdm_key_release_t</a>* key_release, uint32_t key_release_num);</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="keyword">static</span> <a class="code" href="classmarlincdm_1_1_marlin_cdm_interface.html">MarlinCdmInterface</a>* getMarlinCdmInterface();</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="keyword">static</span> mcdm_status_t releaseMarlinCdmInterface();</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <a class="code" href="classmarlincdm_1_1_marlin_cdm_interface.html">MarlinCdmInterface</a>();</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <span class="keyword">virtual</span> ~<a class="code" href="classmarlincdm_1_1_marlin_cdm_interface.html">MarlinCdmInterface</a>();</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;    <a class="code" href="classmarlincdm_1_1_marlin_cdm_interface.html">MarlinCdmInterface</a>(<span class="keyword">const</span> <a class="code" href="classmarlincdm_1_1_marlin_cdm_interface.html">MarlinCdmInterface</a> &amp;o);</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <a class="code" href="classmarlincdm_1_1_marlin_cdm_interface.html">MarlinCdmInterface</a>&amp; operator=(<span class="keyword">const</span> <a class="code" href="classmarlincdm_1_1_marlin_cdm_interface.html">MarlinCdmInterface</a> &amp;o);</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;}; <span class="comment">// marlincdminterface</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;}  <span class="comment">// namespace marlincdm</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#endif  // MARLIN_CDM_INTERFACE_H_</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment"> * 2015 - Copyright Marlin Trust Management Organization</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment"> */</span></div>
<div class="ttc" id="namespacestd_html"><div class="ttname"><a href="namespacestd.html">std</a></div></div>
<div class="ttc" id="namespacemarlincdm_html"><div class="ttname"><a href="namespacemarlincdm.html">marlincdm</a></div><div class="ttdoc">It describes Marlin IPTV-ES CDM(Content Decryption Module) interface for HTML5(EME). Marlin CDM can be used to operate the key acquisition of the marlin protected content and to decrypt the marlin protected content on web browser and web browser platform. EME Verison is 0.1b. </div><div class="ttdef"><b>Definition:</b> <a href="_marlin_cdm_interface_8h_source.html#l00052">MarlinCdmInterface.h:52</a></div></div>
<div class="ttc" id="classmarlincdm_1_1_marlin_cdm_interface_html"><div class="ttname"><a href="classmarlincdm_1_1_marlin_cdm_interface.html">marlincdm::MarlinCdmInterface</a></div><div class="ttdoc">Marlin IPTV-ES CDM(Content Decryption Module) interface for HTML5(EME). </div><div class="ttdef"><b>Definition:</b> <a href="_marlin_cdm_interface_8h_source.html#l00061">MarlinCdmInterface.h:61</a></div></div>
<div class="ttc" id="structmarlincdm_1_1mcdm__key__release__t_html"><div class="ttname"><a href="structmarlincdm_1_1mcdm__key__release__t.html">marlincdm::mcdm_key_release_t</a></div><div class="ttdoc">This structure includes keyRelease information. </div><div class="ttdef"><b>Definition:</b> <a href="_marlin_common_types_8h_source.html#l00114">MarlinCommonTypes.h:114</a></div></div>
<div class="ttc" id="namespacemarlincdm_html_a3a099378c3cb97be4ba95d6ceb34e0e4"><div class="ttname"><a href="namespacemarlincdm.html#a3a099378c3cb97be4ba95d6ceb34e0e4">marlincdm::mcdm_session_id_t</a></div><div class="ttdeci">string mcdm_session_id_t</div><div class="ttdoc">Unique string to identify Marlin CDM object. </div><div class="ttdef"><b>Definition:</b> <a href="_marlin_common_types_8h_source.html#l00100">MarlinCommonTypes.h:100</a></div></div>
<div class="ttc" id="structmarlincdm_1_1mcdm__buffer__t_html"><div class="ttname"><a href="structmarlincdm_1_1mcdm__buffer__t.html">marlincdm::mcdm_buffer_t</a></div><div class="ttdoc">This structure includes data length and data buffer and fd. </div><div class="ttdef"><b>Definition:</b> <a href="_marlin_common_types_8h_source.html#l00105">MarlinCommonTypes.h:105</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    2015 - Copyright Marlin Trust Management Organization
    <li class="navelem"><a class="el" href="dir_329fa200afe69c33124cc07429424706.html">CDM</a></li><li class="navelem"><a class="el" href="dir_baf08e7f15d78a20e2de64c74017fbe3.html">include</a></li><li class="navelem"><b>MarlinCdmInterface.h</b></li>
    <li class="footer">Generated on Wed Jun 10 2015 13:51:33 for MarlinCDM Interface(IPTV-ES) by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.8 </li>
  </ul>
</div>
</body>
</html>
